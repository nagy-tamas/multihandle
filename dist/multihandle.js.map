{"version":3,"sources":["../src/multihandle.js"],"names":[],"mappings":"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","file":"multihandle.js","sourcesContent":["((window) => {\r\n  /**\r\n   * Round number to step\r\n   * @param  float value\r\n   * @param  float step\r\n   * @return float\r\n   */\r\n  function round(value, step) {\r\n    step || (step = 1.0);\r\n    const inv = 1.0 / step;\r\n    return Math.round(value * inv) / inv;\r\n  }\r\n\r\n  class MultiHandle {\r\n    /**\r\n     * Creates the component\r\n     *\r\n     * You can set the options explicitly through the options array, or\r\n     * you can use data-* attributes as well.\r\n     *\r\n     * @param  DOMNode el       Reference of the DOM element\r\n     * @param  Object options\r\n     * @return undefined\r\n     */\r\n    constructor(el, options = {}) {\r\n      this.el = el;\r\n\r\n      // removing the \"loading\" state - show component\r\n      this.el.className = el.className.replace(/multihandle--loading/g, '');\r\n\r\n      // default options\r\n      this.options = Object.assign({\r\n        min: 0,\r\n        max: 100,\r\n        step: 1,\r\n        tpl: {\r\n          track: '${handlers}',\r\n          handler: '${value}'\r\n        }\r\n      }, this.el.dataset, options);\r\n\r\n      // normalize values\r\n      this.options.min = parseFloat(this.options.min, 10);\r\n      this.options.max = parseFloat(this.options.max, 10);\r\n      this.options.step = parseFloat(this.options.step, 10);\r\n\r\n      // are we dragging something?\r\n      this.dragging = false;\r\n\r\n      // the component will be generated here\r\n      this.container = this.el.querySelector('.multihandle__component');\r\n      if (!this.container) {\r\n        this.container = this.el;\r\n      }\r\n\r\n      // reference to the original handlers, converted to an array\r\n      this.handlers = Array.prototype.slice.call(this.el.querySelectorAll('input'));\r\n      this.handlerEls = [];\r\n      this.lines = [];\r\n\r\n      // creating the component\r\n      this.buildComponent();\r\n      this.updateHandlers();\r\n      this.updateLines();\r\n\r\n      // binding events to the component\r\n      this.bindEvents();\r\n    }\r\n\r\n    /**\r\n     * Creates the DOM string of the handlers we can inject in the HTML.\r\n     *\r\n     * @return string The handlers\r\n     */\r\n    createHandlers() {\r\n      const self = this;\r\n      return this.handlers.reduce((previous, current) => (\r\n        `${previous}<div class=\"multihandle__handle\" data-for=\"${current.name}\">\r\n          ${self.options.tpl.handler}\r\n        </div>`), ''\r\n      );\r\n    }\r\n\r\n    /**\r\n     * Finding the handlers in the container node.\r\n     *\r\n     * @param  DOMNode container\r\n     * @return undefined\r\n     */\r\n    findHandlers(track) {\r\n      const self = this;\r\n      track.querySelectorAll('.multihandle__handle').forEach((el) => {\r\n        el.inputReference = self.el.querySelector(`input[name=${el.dataset.for}]`);\r\n        self.handlerEls.push(el);\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Update the handlers to reflect the inputs' state\r\n     *\r\n     * @return undefined\r\n     */\r\n    updateHandlers() {\r\n      const self = this;\r\n      self.handlerEls.forEach((el) => {\r\n        // console.log(self.valueToPercent(parseFloat(el.inputReference.value, 10));\r\n        const value = parseFloat(el.inputReference.value, 10);\r\n        const percent = self.valueToPercent(value);\r\n        el.style.left = `${percent}%`;\r\n        el.innerHTML = el.innerHTML.replace(/\\${value}/, value);\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Creating lines between the handlers\r\n     *\r\n     * @return string The lines\r\n     */\r\n    createLines(track) {\r\n      if (this.handlerEls.length < 2) {\r\n        return;\r\n      }\r\n\r\n      // let's create a between the current handler, and the next one\r\n      for (let i = 0; i < this.handlerEls.length - 1; i++) {\r\n        const line = document.createElement('span');\r\n        line.className = `multihandle__line multihandle__line--${i}`;\r\n        line.lineFrom = this.handlerEls[i];\r\n        line.lineTo = this.handlerEls[i + 1];\r\n\r\n        this.lines.push(line);\r\n        track.appendChild(line);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Updating the lines between the handlers for proper sizing\r\n     *\r\n     * @return undefined\r\n     */\r\n    updateLines() {\r\n      if (this.handlerEls.length < 2) {\r\n        return;\r\n      }\r\n\r\n      this.lines.forEach((line) => {\r\n        const handler1 = parseFloat(line.lineTo.style.left, 10);\r\n        const handler2 = parseFloat(line.lineFrom.style.left, 10);\r\n        const left = Math.min(handler1, handler2);\r\n        const width = Math.abs(handler1 - handler2);\r\n\r\n        line.style.left = `${left}%`;\r\n        line.style.width = `${width}%`;\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Creating the range track and the handlers\r\n     *\r\n     * @return undefined\r\n     */\r\n    buildComponent() {\r\n      // creating the track element\r\n      const track = document.createElement('div');\r\n      track.className = 'multihandle__track';\r\n      this.container.appendChild(track);\r\n\r\n      // putting the handlers on the track\r\n      track.innerHTML = this.options.tpl.track.replace(/\\${handlers}/, this.createHandlers());\r\n      this.findHandlers(track);\r\n\r\n      this.createLines(track);\r\n\r\n      // putting the whole component in the container\r\n      this.container.appendChild(track);\r\n    }\r\n\r\n    /**\r\n     * Adding eventlisteners\r\n     *\r\n     * @return undefined\r\n     */\r\n    bindEvents() {\r\n      this.container.addEventListener('mousedown', evt => this.onMouseDown(evt));\r\n      this.container.addEventListener('touchstart', evt => this.onMouseDown(evt));\r\n      document.body.addEventListener('mouseup', evt => this.onMouseUp(evt));\r\n      document.body.addEventListener('touchend', evt => this.onMouseUp(evt));\r\n      document.body.addEventListener('touchcancel', evt => this.onMouseUp(evt));\r\n      document.body.addEventListener('mousemove', evt => this.onMouseMove(evt));\r\n      document.body.addEventListener('touchmove', evt => this.onMouseMove(evt));\r\n      document.body.addEventListener('dragstart', () => (false));\r\n    }\r\n\r\n    /**\r\n     * utility method that returns the normalized clintX property of an event\r\n     *\r\n     * @param Event evt\r\n     * @return Float\r\n     */\r\n    getClientX(evt) {\r\n      if (typeof evt.clientX !== 'undefined') {\r\n        return evt.clientX;\r\n      }\r\n\r\n      if (evt.touches[0]) {\r\n        return evt.touches[0].clientX;\r\n      }\r\n\r\n      return undefined;\r\n    }\r\n\r\n    /**\r\n     * We may start dragging one of the handlers\r\n     *\r\n     * @param  Event evt\r\n     * @return undefined\r\n     */\r\n    onMouseDown(evt) {\r\n      const found = this.handlerEls.indexOf(evt.target);\r\n      // click triggered on the track, not on one of the handlers\r\n      if (found < 0) {\r\n        return;\r\n      }\r\n\r\n      this.dragging = {\r\n        handlerIx: found,\r\n        handler: this.handlerEls[found],\r\n        startLeft: this.handlerEls[found].offsetLeft,\r\n        startX: this.getClientX(evt)\r\n      };\r\n\r\n      console.log(evt, this.dragging);\r\n    }\r\n\r\n    /**\r\n     * Dragging stopped\r\n     *\r\n     * @return undefined\r\n     */\r\n    onMouseUp() {\r\n      this.dragging = false;\r\n    }\r\n\r\n    /**\r\n     * Moving one of the handlers, if it's in dragging state\r\n     *\r\n     * @param  Event evt\r\n     * @return undefined\r\n     */\r\n    onMouseMove(evt) {\r\n      if (this.dragging && this.dragging.handlerIx > -1) {\r\n        const newLeft = this.dragging.startLeft - (this.dragging.startX - this.getClientX(evt));\r\n        const percent = this.normalizePercent(this.pxToPercent(newLeft));\r\n        const value = this.percentToValue(percent);\r\n\r\n        this.dragging.handler.style.left = `${percent}%`;\r\n        this.dragging.handler.innerHTML = this.options.tpl.handler.replace(/\\${value}/, value);\r\n        this.updateInputs();\r\n        this.updateLines();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Update the values of the input fields\r\n     *\r\n     * @return undefined\r\n     */\r\n    updateInputs() {\r\n      const self = this;\r\n\r\n      this.handlerEls.forEach((handler) => {\r\n        const input = handler.inputReference;\r\n        input.value = self.percentToValue(parseFloat(handler.style.left, 10));\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Transforms an input value with a min/max threshold to a percent value\r\n     *\r\n     * @param  float val\r\n     * @return float percentage\r\n     */\r\n    valueToPercent(val) {\r\n      const scale = this.options.max - this.options.min;\r\n      return (100 / scale) * (val - this.options.min);\r\n    }\r\n\r\n    /**\r\n     * Comes handy when the user drags the element, and all we have is the left coordinate\r\n     *\r\n     * @param  float px\r\n     * @return float percent\r\n     */\r\n    pxToPercent(px) {\r\n      const full = this.container.scrollWidth;\r\n      return (px / full) * 100;\r\n    }\r\n\r\n    /**\r\n     * Gives back the value based on the current handler position\r\n     *\r\n     * @param  float percent\r\n     * @return float value\r\n     */\r\n    percentToValue(percent) {\r\n      const scale = this.options.max - this.options.min;\r\n      // before rounding to options.step\r\n      const rawValue = (percent / (100 / scale)) + this.options.min;\r\n      const rounded = round(rawValue, this.options.step);\r\n\r\n      return rounded;\r\n    }\r\n\r\n    normalizePercent(percent) {\r\n      percent = Math.max(0, percent);\r\n      percent = Math.min(100, percent);\r\n\r\n      return this.valueToPercent(this.percentToValue(percent));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create multihandler components of the given array of DOMNodes\r\n   *\r\n   * @param  Array els    Node list of DOM elements\r\n   * @return undefined\r\n   */\r\n  const init = (els) => {\r\n    els.forEach((el) => {\r\n      return new MultiHandle(el);\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Exported API in the window namespace\r\n   */\r\n  window.multihandle = {\r\n    init\r\n  };\r\n})(window);\r\n"]}